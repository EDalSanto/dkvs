#!/Users/Me/.rbenv/versions/2.5.3/bin/ruby
# frozen_string_literal: true

require_relative "../lib/client"
require_relative "../lib/display"

puts "Connecting Client to Server..."
client = Client.new

# ^Ctrl-C
Signal.trap("INT") {
  client.shutdown
  puts ""
  puts "-----------------------"
  puts "Shutting down client"
  exit
}

display = Display.new
loop {
  display.line_segment
  request = Readline.readline('request: ', true).chomp
  response = client.send(request)
  display.key_value("response", response)
}
